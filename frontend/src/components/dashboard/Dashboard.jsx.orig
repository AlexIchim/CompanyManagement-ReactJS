import * as React from 'react';
import Tile from './Tile';
import * as $ from 'jquery';
import config from '../helper';

export default class Dashboard extends React.Component{
    constructor(){
        super();
    }

<<<<<<< HEAD
=======
    componentWillMount(){
        $.ajax({
            method: 'GET',
            url: config.base + 'office/getAll',
            async: false,
            success: function (data) {
                this.setState({
                    offices: data
                })
            }.bind(this)
        })
    }

>>>>>>> origin/FluffyWarriors
    render(){

<<<<<<< HEAD
                <Tile
                    parentClass="bg-green"
                    phone="213123"
                    address="Address: Sample controls"
                    link="department/members/1"
                    icon="user"
=======
        const icons = ["user", "users", "trash", "envelope-o", "calendar-o"];

        const items = this.state.offices.map ( (office, index) => {
            return (
                <Tile
                    parentClass="bg-aqua"
                    phone= {office.Phone}
                    address= {office.Address}
                    link= { "office/departments/" + office.Id }
                    icon={icons[ Math.floor((Math.random() * (icons.length - 1)) + 0)]}
                    key = {index}
>>>>>>> origin/FluffyWarriors
                />
            )
        })

        return (
            <div className="row">

                {items}

            </div>

        )
    }
}